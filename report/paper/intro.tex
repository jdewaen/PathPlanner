\begin{abstract}
Path planning for UAVs using Mixed Integer Programming is a promising technique, but is currently severly limited by its poor scalability. This paper presents a new approach which improves the scalability with respect to the amount of obstacles and the distance between the start and goal positions. Where previous approaches hit computational limits when dealing with tens of obstacles, this new approach can handle tens of thousands of polygonal obstacles successfully on a typical consumer computer. This is achieved by first calculating a rough path with the Theta* algorithm. Based on the corners in this rough path, the problem is split into many smaller segments. A heuristic selects a small set of nearby obstacles to be fully modeled in the MIP problem. A genetic algorithm is used to construct a convex area around the segment which does not contain any obstacles which have not been selected by the heuristic. This ensures only relevant obstacles are modeled while still preventing collisions with any obstacle. To demonstrate this approach can scale enough to be useful in real, complex environments, it has been tested on unprocessed maps of real cities with paths spanning several kilometers.
\end{abstract}

\section{Introduction}
Path planning for UAVs is a complex problem because flying is inherently a dynamic process. Proper modeling of the velocity and acceleration are required to generate a path that is both fast and safe.A path that is both safe and fast requires precise control of the trajectory to effectively navigate corners while maintaining momentum. The vehicle dynamics are often not the only constraints placed on the path. Different laws in different countries also affect the path. The operators of the UAV may also wish to either prevent certain scenarios or ensure specific criteria are always met. \\
In this paper, we present a scalable approach which is capable of generating safe and fast paths, while also being easily extensible by design. We used Mixed Integer Linear Programming (MILP), a form of mathematical programming, to achieve this goal. In mathematical, the problem is modeled using mathematic equations as constraints. A goal function encodes one or more properties, like time or path length, to be optimized. A general solver is then used to find the optimal solution for the problem. Because the problem using mathematical equations to solved by a general solver, additional constraints can easily be added.\\
However, the focus of this paper is not on the extensibility aspect. The idea of using MILP for path planning is not new \cite{Schouwenaars2001}, but scalability limitations meant that it could not be used to generate long paths through complex environments. Our strategy for making this approach more scalable revolves around dividing the long path into many smaller segments. Several steps of preprocessing collect information about the path. This information is used to generate the smaller segments, as well as reduce the difficulty of each specific segment. \\
The first step consists of finding an initial rough path using Theta*. This path does not take any dynamic properties into account, making it much easier to calculate. In the second step, the corners in this rough path are extracted and used to generate the segments. The third step attempts to minimize the amount of obstacles that need to be modeled in each segment. A heuristic selects specific obstacles to model during each segment. To ensure that the path does not intersect with any of the other obstacles, a convex area is generated by a genetic algorithm. The UAV is constrained stay within the convex area at all times in the MILP problem.  The genetic algorithm attempts to grow that area as much as possible, while not overlapping with any of the obstacles which have not been selected by the heuristic ( as they will modeled separately in the MILP problem).

\subsection{Related work}
Modeling a path planning problem using MILP is not a new idea. Schouwenaars et al. \cite{Schouwenaars2001} were the first to demonstrate that this technique could be applied to path planning problems. They used discrete timesteps to model time with a vehicle moving through 2D space, just like the approach we present in this paper. The basic formulations of constraints we present in this paper are the same as in the work of Schouwenaars et al. To limit the computation complexity, they also presented a receding horizon technique so the problem can be solved in multiple steps. However, this technique was essentially blind and could easily get stuck behind obstacles. Bellingham\cite{Bellingham2002} recognized that issue and proposed a method to prevent the path from get stuck behind obstacles, even when using a receding horizon. \\

Flores\cite{Flores2007} and Deits et al\cite{Deits2015} do not use discretized time, but model continuous curves instead. This not possible using linear functions alone. They use Mixed Integer Programming with functions of a higher order to achieve this. The work by Deits et al. is especially relevant to this paper, since they also use convex regions to limit (or in their work: completely eliminate) the need to model obstacles directly. \\

Several different papers \cite{Fliess1995a, Hao2005, Cowling2007, Mellinger2011} show how the output from algorithms like these can be translated to control input for an actual physical vehicle. This demonstrates that, when they properly model a vehicle, these path planners need minimal post-processing to control a vehicle. Of course that does assume these planners can run in real time to deal with errors that inevitably will grow over time. Culligan \cite{Culligan2006} provides an approach built with real time operation in mind. Their approach only finds a suitable path for the next few seconds of flight. \\

More work has been done on modeling specific kinds of constraints or goal functions. For instance, Chaudhry et al. \cite{Chaudhry2004} formulated an approach to minimize radar visibility for drones in hostile airspace. However, none of these have really attempted to make navigating through a complex environment like a city feasible. Deits et al. \cite{Deits2015} come close, but did not really explore this in detail.